


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="GE Skunkworks">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.3">
    
    
      
        <title>Access control - Scoutr</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.947af8d5.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-gateway-authentication" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Scoutr" class="md-header-nav__button md-logo" aria-label="Scoutr">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Scoutr
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Access control
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/GESkunkworks/scoutr/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Scoutr" class="md-nav__button md-logo" aria-label="Scoutr">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Scoutr
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/GESkunkworks/scoutr/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../endpoint-structure/" title="Endpoint structure" class="md-nav__link">
      Endpoint structure
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Access control
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Access control" class="md-nav__link md-nav__link--active">
      Access control
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-gateway-authentication" class="md-nav__link">
    API Gateway Authentication
  </a>
  
    <nav class="md-nav" aria-label="API Gateway Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oidc-authentication" class="md-nav__link">
    OIDC Authentication
  </a>
  
    <nav class="md-nav" aria-label="OIDC Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-filters" class="md-nav__link">
    Field filters
  </a>
  
    <nav class="md-nav" aria-label="Field filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-exclusions" class="md-nav__link">
    Field exclusions
  </a>
  
    <nav class="md-nav" aria-label="Field exclusions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_1" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permitted-endpoints" class="md-nav__link">
    Permitted endpoints
  </a>
  
    <nav class="md-nav" aria-label="Permitted endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_2" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#groups" class="md-nav__link">
    Groups
  </a>
  
    <nav class="md-nav" aria-label="Groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auth-identifier" class="md-nav__link">
    Auth Identifier
  </a>
  
    <nav class="md-nav" aria-label="Auth Identifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types" class="md-nav__link">
    Types
  </a>
  
    <nav class="md-nav" aria-label="Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#username" class="md-nav__link">
    USERNAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oidc_group" class="md-nav__link">
    OIDC_GROUP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_key" class="md-nav__link">
    API_KEY
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groups_1" class="md-nav__link">
    Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#audit-logs" class="md-nav__link">
    Audit Logs
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../filtering/" title="Filtering" class="md-nav__link">
      Filtering
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../validation/" title="Validation" class="md-nav__link">
      Validation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../errors-and-metrics/" title="Errors and metrics" class="md-nav__link">
      Errors and metrics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../example/" title="Example" class="md-nav__link">
      Example
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-gateway-authentication" class="md-nav__link">
    API Gateway Authentication
  </a>
  
    <nav class="md-nav" aria-label="API Gateway Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oidc-authentication" class="md-nav__link">
    OIDC Authentication
  </a>
  
    <nav class="md-nav" aria-label="OIDC Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-filters" class="md-nav__link">
    Field filters
  </a>
  
    <nav class="md-nav" aria-label="Field filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-exclusions" class="md-nav__link">
    Field exclusions
  </a>
  
    <nav class="md-nav" aria-label="Field exclusions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_1" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permitted-endpoints" class="md-nav__link">
    Permitted endpoints
  </a>
  
    <nav class="md-nav" aria-label="Permitted endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syntax_2" class="md-nav__link">
    Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#groups" class="md-nav__link">
    Groups
  </a>
  
    <nav class="md-nav" aria-label="Groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auth-identifier" class="md-nav__link">
    Auth Identifier
  </a>
  
    <nav class="md-nav" aria-label="Auth Identifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types" class="md-nav__link">
    Types
  </a>
  
    <nav class="md-nav" aria-label="Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#username" class="md-nav__link">
    USERNAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oidc_group" class="md-nav__link">
    OIDC_GROUP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_key" class="md-nav__link">
    API_KEY
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groups_1" class="md-nav__link">
    Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#audit-logs" class="md-nav__link">
    Audit Logs
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/GESkunkworks/scoutr/edit/master/docs/access-control.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Access control</h1>
                
                <p>Scoutr provides full access control over the endpoints a set of users is permitted to call and the output that is
returned. This is done using field filters, field exclusions, and permitted endpoints, which are outlined in the next
section.</p>
<p>This access control functionality is implemented at both a user and a group level. A user can be a member of zero or
more groups. The implementation of <a href="#auth-identifier">auth identifiers</a> and <a href="#groups">groups</a> is outlined in their
respective sections.</p>
<p>The two types of access control supported are via API Gateway or via OIDC. Helper functions have been created for
each access control type to assist with passing the correct request format into Scoutr.</p>
<h3 id="api-gateway-authentication">API Gateway Authentication</h3>
<p>For API Gateway authentication, the request format is generated by the <code>build_api_gateway_request</code> method.</p>
<h4 id="example">Example</h4>
<p>Refer to the <a href="https://github.com/GESkunkworks/scoutr/blob/master/example/api_gateway/example/endpoints/list.py">example serverless endpoint</a></p>
<h3 id="oidc-authentication">OIDC Authentication</h3>
<p>It is assumed that there is an Apache server running in front of the application that performs OIDC authentication
and passes the OIDC claims as headers.</p>
<p>The simplest method to setup the API is to use <a href="https://www.flaskapi.org/">Flask API</a>. Helper methods have been
provided to make the setup as simple as possible. The <a href="https://github.com/GESkunkworks/scoutr/blob/master/scoutr/flask/routes.py#L11"><code>init_flask</code></a> method
automatically generates the belows endpoints:
- GET <code>/user/</code> - Returns information about the authenticated user
- POST <code>/user/has-permission/</code> - Determine if user has permission to access an endpoint. The body of this request should
    contain <code>method</code> and <code>path</code> keys as JSON.
- GET <code>/&lt;primary_list_endpoint&gt;/</code> - Primary endpoint used to list data. The value of <code>primary_list_endpoint</code> is determined
    by an argument passed to <code>init_flask()</code>
- GET <code>/audit/</code> - List and search all audit logs
- GET <code>/audit/&lt;item&gt;/</code> - List audit logs for a particular resource
- GET <code>/history/&lt;item&gt;/</code> - Show history for a particular resource
- POST <code>/search/&lt;search_key&gt;/</code> - Search endpoint that allows searching by any key for one or more values. The body of
    this request should be a JSON list of values.</p>
<h4 id="example_1">Example</h4>
<p>Refer to the <a href="https://github.com/GESkunkworks/scoutr/blob/master/example/flask/main.py">example flask application</a></p>
<h3 id="concepts">Concepts</h3>
<h4 id="field-filters">Field filters</h4>
<p>List of field filters to apply to queries by this group. Each item in this list must be structured as:</p>
<p>If the type of <code>value</code> is a string, it will be filtered using a <code>field = value</code> operation. To support multiple
values for a single field, tf the type of <code>value</code> is a list, it will be filtered using a
<code>field IN ['value1', 'value2', ..., 'valueN']</code> operation. When multiple field filters are specified, they are
combined together using an <code>AND</code> operation.</p>
<h5 id="syntax">Syntax</h5>
<div class="codehilite"><pre><span></span><code><span class="p">[</span>
    <span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;field1&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;filter_value&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;field2&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">]},</span>
<span class="p">]</span>
</code></pre></div>


<h4 id="field-exclusions">Field exclusions</h4>
<p>Field exclusions allow for excluding one or more fields from the output of all queries. These fields are from any output
during the post-processing phase of all queries. Additionally, if a user attempts to create or update an item that
contains a field from this list, the operation will be denied.</p>
<h5 id="syntax_1">Syntax</h5>
<div class="codehilite"><pre><span></span><code><span class="p">[</span>
    <span class="s2">&quot;field1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;field2&quot;</span>
<span class="p">]</span>
</code></pre></div>


<h4 id="permitted-endpoints">Permitted endpoints</h4>
<p>Before taking any action, every call from API gateway is validated to ensure the user has permissions to
perform the call. For convenience, regular expressions can be used within the <code>endpoint</code> field.</p>
<h5 id="syntax_2">Syntax</h5>
<div class="codehilite"><pre><span></span><code><span class="p">[</span>
    <span class="p">{</span><span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET|POST|PUT|DELETE&quot;</span><span class="p">,</span> <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;/endpoint&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET|POST|PUT|DELETE&quot;</span><span class="p">,</span> <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;^/endpoint2/.+$&quot;</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>


<h3 id="groups">Groups</h3>
<p>A group object be made up of:
- <code>group_id</code> - Identifier for the group
- <code>permitted_endpoints</code> - Optional list of permitted endpoints
- <code>filter_fields</code> - Optional list of field filters
- <code>exclude_fields</code> - Optional list of field exclusions
- <code>update_fields_permitted</code> - Optional list of the only fields that can be updated
- <code>update_fields_restricted</code> - Optional list of fields to restrict updates for</p>
<p>The name of the group table must be passed in to the constructor.</p>
<h4 id="example_2">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;read-only&quot;</span><span class="p">,</span>
    <span class="nt">&quot;permitted_endpoints&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;^/account/.+$&quot;</span><span class="p">,</span>
            <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;^/accounts.*$&quot;</span><span class="p">,</span>
            <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;^/search/.+$&quot;</span><span class="p">,</span>
            <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;POST&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;exclude_fields&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;field1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;update_fields_permitted&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;field4&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;update_fields_restricted&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;field5&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;filter_fields&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;field2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;value1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;field3&quot;</span><span class="p">,</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;value2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value3&quot;</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>


<h3 id="auth-identifier">Auth Identifier</h3>
<h4 id="types">Types</h4>
<p>There are three types of accepted authentication identifiers:
- USERNAME
- OIDC_GROUP
- API_KEY</p>
<p>Though not required, it is recommended for each object type to have a <code>type</code> key that corresponds to its
authentication type (OIDC_GROUP, USERNAME, or API_KEY).</p>
<p>The field requirements for each object type are outlined in the following sections</p>
<h5 id="username">USERNAME</h5>
<ul>
<li>id (partition key) - this is the user's username</li>
</ul>
<p>Though not required, it is recommended to also include a <code>name</code> field containing the user's full name to make it
easier to identify the user at a glance.</p>
<h5 id="oidc_group">OIDC_GROUP</h5>
<ul>
<li>id (partition key) - this is expected to be the group id</li>
</ul>
<p>Though not required, it is recommended to also include a <code>name</code> field containing the group's display name to make it
easier to identify the group at a glance.</p>
<p>If a user is a member of more than one OIDC group, the permissions granted by each configured group will be combined
together to generate the effective permissions applied to the user.</p>
<h5 id="api_key">API_KEY</h5>
<ul>
<li>id (partition key) - this is the api key id</li>
<li>name</li>
<li>username</li>
<li>email</li>
</ul>
<h4 id="groups_1">Groups</h4>
<p>Optionally, each auth object can include a <code>groups</code> object, which should be a list of group ids that the user is a
member of:</p>
<div class="codehilite"><pre><span></span><code><span class="err">{</span>
<span class="err">    &quot;groups&quot;: [</span>
<span class="err">        &quot;read-only&quot;,</span>
<span class="err">        &quot;view-audit-logs&quot;</span>
<span class="err">    ]</span>
<span class="err">}</span>
</code></pre></div>


<p>Any permissions defined in the groups are combined together to make up the user's permissions. In addition, the same
permissions that a group defines (<code>filter_fields</code>, <code>exclude_fields</code>, <code>update_fields_permitted</code>,
<code>update_fields_restricted</code>, <code>permitted_endpoints</code>) can be expressed at the user level. These permissions will be
combined together with the permissions outlined in the groups the user is a member of. Permissions defined at the user
level <strong>DO NOT</strong> override those specified at the group level - they are combined.</p>
<p>If a user is a member of multiple OIDC groups, the permissions are combined such that
- Any <code>filter_fields</code> definied in a child <code>groups</code> block are combined together with an <code>AND</code> expression
- All of the combined permissions in each OIDC group the user is a member of are combined together with an <code>OR</code> expression</p>
<p>The name of the user table must be passed in to the constructor.</p>
<h3 id="audit-logs">Audit Logs</h3>
<p>For every authorized, successful call to the API, an entry will be logged in the audit log table. Each record will
follow the below format:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;CREATE|UPDATE|DELETE|GET|LIST|SEARCH|{CUSTOM-ACTION}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;HTTP method from API gateway&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/endpoint/path&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path_params&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;query_params&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-10-04T18:44:30.166635&quot;</span><span class="p">,</span>
  <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;api_key_id&quot;</span><span class="p">:</span> <span class="s2">&quot;ID&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;1.2.3.4&quot;</span><span class="p">,</span>
    <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;222222222&quot;</span><span class="p">,</span>
    <span class="nt">&quot;user_agent&quot;</span><span class="p">:</span> <span class="s2">&quot;curl&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<p>The following fields may not be included or may not have values for all types of actions:
- body
- query_params
- path_params
- resource</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../endpoint-structure/" title="Endpoint structure" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Endpoint structure
              </div>
            </div>
          </a>
        
        
          <a href="../filtering/" title="Filtering" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Filtering
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c3dc8c49.min.js"></script>
      <script src="../assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>